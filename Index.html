<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Hullad√©ksz√°ll√≠t√°s - Szigetszentmikl√≥s 2026</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #121212;
            color: #e0e0e0;
            min-height: 100vh;
            padding-bottom: 20px;
        }

        .header {
            position: sticky;
            top: 0;
            background: #1e1e1e;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #2a2a2a;
            z-index: 100;
        }

        .header-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.3em;
            font-weight: 500;
        }

        .icon-btn {
            background: #2a2a2a;
            border: none;
            color: #e0e0e0;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            cursor: pointer;
        }

        .next-collection {
            background: #1e1e1e;
            margin: 16px 20px;
            border-radius: 12px;
            border-left: 6px solid #ff9800;
            overflow: hidden;
        }

        .next-collection-header {
            background: linear-gradient(135deg, #ff9800 0%, #ff6f00 100%);
            color: white;
            padding: 16px;
            font-weight: 600;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .next-collection-body {
            padding: 16px;
        }

        .next-date {
            font-size: 1.3em;
            font-weight: 600;
            color: #ff9800;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .next-waste-items {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .next-waste-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #2a2a2a;
            border-radius: 8px;
            font-size: 1.05em;
        }

        .next-waste-icon {
            font-size: 1.8em;
        }

        .filter-container {
            padding: 12px 20px;
            display: flex;
            gap: 10px;
            overflow-x: auto;
            background: #1e1e1e;
            border-bottom: 1px solid #2a2a2a;
        }

        .filter-container::-webkit-scrollbar {
            display: none;
        }

        .filter-btn {
            background: #2a2a2a;
            border: none;
            color: #e0e0e0;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.95em;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-btn.active {
            background: #ffffff;
            color: #121212;
        }

        .content {
            padding: 16px 20px;
        }

        .card {
            background: #1e1e1e;
            border-radius: 12px;
            margin-bottom: 16px;
            overflow: hidden;
            border-left: 4px solid #ff9800;
        }

        .card-header {
            padding: 16px;
            border-bottom: 1px solid #2a2a2a;
        }

        .card-date {
            font-size: 1.1em;
            font-weight: 500;
            color: #e0e0e0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-body {
            padding: 12px 16px;
        }

        .waste-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 0;
            font-size: 1em;
            color: #b0b0b0;
        }

        .waste-icon {
            font-size: 1.5em;
        }

        .next-badge {
            background: #ff9800;
            color: #000;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: auto;
        }

        .today-badge {
            background: #4caf50;
            color: #fff;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: auto;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }

        .empty-state-icon {
            font-size: 3em;
            margin-bottom: 12px;
        }

        /* S√∂t√©t/Vil√°gos m√≥d v√°lt√≥ */
        body.light-mode {
            background: #f5f5f5;
            color: #333;
        }

        body.light-mode .header,
        body.light-mode .filter-container {
            background: #ffffff;
            border-color: #e0e0e0;
        }

        body.light-mode .next-collection {
            background: #ffffff;
        }

        body.light-mode .next-waste-item {
            background: #f5f5f5;
        }

        body.light-mode .card {
            background: #ffffff;
            border-left-color: #ff9800;
        }

        body.light-mode .card-header {
            border-color: #e0e0e0;
        }

        body.light-mode .filter-btn,
        body.light-mode .icon-btn {
            background: #f5f5f5;
            color: #333;
        }

        body.light-mode .filter-btn.active {
            background: #333;
            color: #fff;
        }

        body.light-mode .waste-item {
            color: #666;
        }

        body.light-mode .card-date {
            color: #333;
        }

        @media (max-width: 600px) {
            .header-title {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-title">
            <span>üóëÔ∏è</span>
            <span>Hullad√©ksz√°ll√≠t√°s</span>
        </div>
        <div style="display: flex; gap: 8px;">
            <button class="icon-btn" onclick="toggleFullscreen()" title="Teljes k√©perny≈ë">‚õ∂</button>
            <button class="icon-btn" onclick="toggleTheme()">‚òÄÔ∏è</button>
        </div>
    </div>

    <div class="filter-container">
        <button class="filter-btn active" onclick="filterByType('all')">Teljes sz√°ll√≠t√°s</button>
        <button class="filter-btn" onclick="filterByType('m≈±anyag')">‚ôªÔ∏è M≈±anyag</button>
        <button class="filter-btn" onclick="filterByType('pap√≠r')">üìÑ Pap√≠r</button>
        <button class="filter-btn" onclick="filterByType('z√∂ld')">üåø Z√∂ld</button>
    </div>

    <div class="next-collection" id="nextCollection">
        <!-- K√∂vetkez≈ë sz√°ll√≠t√°s itt jelenik meg -->
    </div>

    <div class="content" id="content">
        <!-- K√°rty√°k ide ker√ºlnek -->
    </div>

    <script>
        // 2026-os hullad√©ksz√°ll√≠t√°si adatok
        const wasteSchedule = {
            // Janu√°r
            "2026-01-05": ["kommun√°lis"],
            "2026-01-12": ["kommun√°lis"],
            "2026-01-19": ["kommun√°lis"],
            "2026-01-26": ["kommun√°lis"],
            
            // Febru√°r
            "2026-02-02": ["kommun√°lis"],
            "2026-02-09": ["kommun√°lis"],
            "2026-02-16": ["kommun√°lis"],
            "2026-02-23": ["kommun√°lis"],
            
            // M√°rcius
            "2026-03-02": ["kommun√°lis"],
            "2026-03-09": ["kommun√°lis"],
            "2026-03-16": ["kommun√°lis"],
            "2026-03-23": ["kommun√°lis"],
            "2026-03-30": ["kommun√°lis"],
            
            // √Åprilis
            "2026-04-06": ["kommun√°lis"],
            "2026-04-13": ["kommun√°lis"],
            "2026-04-20": ["kommun√°lis"],
            "2026-04-27": ["kommun√°lis"],
            
            // M√°jus
            "2026-05-04": ["kommun√°lis"],
            "2026-05-11": ["kommun√°lis"],
            "2026-05-18": ["kommun√°lis"],
            "2026-05-25": ["kommun√°lis"],
            
            // J√∫nius
            "2026-06-01": ["kommun√°lis"],
            "2026-06-08": ["kommun√°lis"],
            "2026-06-15": ["kommun√°lis"],
            "2026-06-22": ["kommun√°lis"],
            "2026-06-29": ["kommun√°lis"],
            
            // J√∫lius
            "2026-07-06": ["kommun√°lis"],
            "2026-07-13": ["kommun√°lis"],
            "2026-07-20": ["kommun√°lis"],
            "2026-07-27": ["kommun√°lis"],
            
            // Augusztus
            "2026-08-03": ["kommun√°lis"],
            "2026-08-10": ["kommun√°lis"],
            "2026-08-17": ["kommun√°lis"],
            "2026-08-24": ["kommun√°lis"],
            "2026-08-31": ["kommun√°lis"],
            
            // Szeptember
            "2026-09-07": ["kommun√°lis"],
            "2026-09-14": ["kommun√°lis"],
            "2026-09-21": ["kommun√°lis"],
            "2026-09-28": ["kommun√°lis"],
            
            // Okt√≥ber
            "2026-10-05": ["kommun√°lis"],
            "2026-10-12": ["kommun√°lis"],
            "2026-10-19": ["kommun√°lis"],
            "2026-10-26": ["kommun√°lis"],
            
            // November
            "2026-11-02": ["kommun√°lis"],
            "2026-11-09": ["kommun√°lis"],
            "2026-11-16": ["kommun√°lis"],
            "2026-11-23": ["kommun√°lis"],
            "2026-11-30": ["kommun√°lis"],
            
            // December
            "2026-12-07": ["kommun√°lis"],
            "2026-12-14": ["kommun√°lis"],
            "2026-12-21": ["kommun√°lis"],
            "2026-12-28": ["kommun√°lis"]
        };

        // M≈±anyag h√©tf≈ëk
        const muanyagDates = [
            "2026-01-12", "2026-01-26",
            "2026-02-09", "2026-02-23",
            "2026-03-09", "2026-03-23",
            "2026-04-06", "2026-04-20",
            "2026-05-04", "2026-05-18",
            "2026-06-01", "2026-06-15", "2026-06-29",
            "2026-07-13", "2026-07-27",
            "2026-08-10", "2026-08-24",
            "2026-09-07", "2026-09-21",
            "2026-10-05", "2026-10-19",
            "2026-11-02", "2026-11-16", "2026-11-30",
            "2026-12-14", "2026-12-28"
        ];

        // Pap√≠r h√©tf≈ëk
        const papirDates = [
            "2026-01-26",
            "2026-02-23",
            "2026-03-23",
            "2026-04-20",
            "2026-05-18",
            "2026-06-15",
            "2026-07-27",
            "2026-08-24",
            "2026-09-21",
            "2026-10-19",
            "2026-11-16",
            "2026-12-14"
        ];

        // Z√∂ld h√©tf≈ëk
        const zoldDates = [
            "2026-01-05", "2026-01-19",
            "2026-03-02", "2026-03-16", "2026-03-30",
            "2026-04-13", "2026-04-27",
            "2026-05-11", "2026-05-25",
            "2026-06-08", "2026-06-22",
            "2026-07-06", "2026-07-20",
            "2026-08-03", "2026-08-17", "2026-08-31",
            "2026-09-14", "2026-09-28",
            "2026-10-12", "2026-10-26",
            "2026-11-09", "2026-11-23"
        ];

        // √ñssze√°ll√≠tjuk a teljes menetrendet
        muanyagDates.forEach(date => {
            if (!wasteSchedule[date].includes("m≈±anyag")) {
                wasteSchedule[date].push("m≈±anyag");
            }
        });

        papirDates.forEach(date => {
            if (!wasteSchedule[date].includes("pap√≠r")) {
                wasteSchedule[date].push("pap√≠r");
            }
        });

        zoldDates.forEach(date => {
            if (!wasteSchedule[date].includes("z√∂ld")) {
                wasteSchedule[date].push("z√∂ld");
            }
        });

        // Ikonok
        const wasteIcons = {
            "kommun√°lis": "üóëÔ∏è",
            "m≈±anyag": "‚ôªÔ∏è",
            "pap√≠r": "üìÑ",
            "z√∂ld": "üåø"
        };

        const wasteNames = {
            "kommun√°lis": "Kommun√°lis hullad√©k",
            "m≈±anyag": "M≈±anyag hullad√©k",
            "pap√≠r": "Pap√≠r hullad√©k",
            "z√∂ld": "Z√∂ld hullad√©k"
        };

        let currentFilter = 'all';

        function formatDate(dateStr) {
            const date = new Date(dateStr + 'T12:00:00');
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                weekday: 'long'
            };
            return date.toLocaleDateString('hu-HU', options);
        }

        function isToday(dateStr) {
            const today = new Date();
            const date = new Date(dateStr + 'T12:00:00');
            return today.toDateString() === date.toDateString();
        }

        function getNextMonday() {
            const today = new Date();
            const dates = Object.keys(wasteSchedule).sort();
            
            for (let dateStr of dates) {
                const date = new Date(dateStr + 'T12:00:00');
                if (date >= today) {
                    return dateStr;
                }
            }
            return null;
        }

        function renderCards() {
            const content = document.getElementById('content');
            const nextCollectionEl = document.getElementById('nextCollection');
            const dates = Object.keys(wasteSchedule).sort();
            const nextMonday = getNextMonday();
            
            content.innerHTML = '';
            nextCollectionEl.innerHTML = '';

            // K√∂vetkez≈ë sz√°ll√≠t√°s kiemelt megjelen√≠t√©se
            if (nextMonday) {
                const nextWasteTypes = wasteSchedule[nextMonday];
                const isItToday = isToday(nextMonday);
                
                let nextWasteItemsHTML = '';
                nextWasteTypes.forEach(type => {
                    nextWasteItemsHTML += `
                        <div class="next-waste-item">
                            <span class="next-waste-icon">${wasteIcons[type]}</span>
                            <span>${wasteNames[type]}</span>
                        </div>
                    `;
                });

                nextCollectionEl.innerHTML = `
                    <div class="next-collection-header">
                        <span>‚≠ê</span>
                        <span>${isItToday ? 'MAI SZ√ÅLL√çT√ÅS' : 'K√ñVETKEZ≈ê SZ√ÅLL√çT√ÅS'}</span>
                    </div>
                    <div class="next-collection-body">
                        <div class="next-date">
                            <span>üìÖ</span>
                            <span>${formatDate(nextMonday)}</span>
                        </div>
                        <div class="next-waste-items">
                            ${nextWasteItemsHTML}
                        </div>
                    </div>
                `;
            }

            // T√∂bbi sz√°ll√≠t√°s list√°ja
            dates.forEach(dateStr => {
                // Kihagyjuk a k√∂vetkez≈ë/mai sz√°ll√≠t√°st a list√°b√≥l
                if (dateStr === nextMonday) {
                    return;
                }

                const wasteTypes = wasteSchedule[dateStr];
                
                // Sz≈±r√©s
                if (currentFilter !== 'all') {
                    if (!wasteTypes.includes(currentFilter)) {
                        return;
                    }
                }

                const card = document.createElement('div');
                card.className = 'card';
                card.dataset.date = dateStr;
                card.dataset.types = wasteTypes.join(',');

                let wasteItemsHTML = '';
                wasteTypes.forEach(type => {
                    wasteItemsHTML += `
                        <div class="waste-item">
                            <span class="waste-icon">${wasteIcons[type]}</span>
                            <span>${wasteNames[type]}</span>
                        </div>
                    `;
                });

                card.innerHTML = `
                    <div class="card-header">
                        <div class="card-date">
                            <span>üìÖ</span>
                            <span>${formatDate(dateStr)}</span>
                        </div>
                    </div>
                    <div class="card-body">
                        ${wasteItemsHTML}
                    </div>
                `;

                content.appendChild(card);
            });

            if (content.children.length === 0) {
                content.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üîç</div>
                        <div>Nincs tal√°lat</div>
                    </div>
                `;
            }
        }

        function filterByType(type) {
            currentFilter = type;
            
            // Gombok friss√≠t√©se
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            renderCards();
        }

        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            const btn = event.target;
            btn.textContent = document.body.classList.contains('light-mode') ? 'üåô' : '‚òÄÔ∏è';
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                // Bel√©p√©s teljes k√©perny≈ëbe
                document.documentElement.requestFullscreen().catch(err => {
                    console.log('Fullscreen hiba:', err);
                });
            } else {
                // Kil√©p√©s teljes k√©perny≈ëb≈ël
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }

        // Inicializ√°l√°s
        renderCards();
    </script>
</body>
</html>
